---
title: "[R]interactions packageのガバガバ紹介"
date: "2019-08-06T00:00:00"
draft: True

categories: ["R"]
tags: ["R"]
summary: "連続変数を含む回帰モデルの交互作用Plot"
---



<p>連続変数を含む回帰モデルの交互作用を簡単に図示できるパッケージ<a href="https://interactions.jacob-long.com/index.html">(interactions)</a>の紹介。<br>
このパッケージのいい点<br />
1. glm, lmerやbrmsなどの一般化線形、階層、ベイジアンモデルでも適用可能<br />
2. 1行で書ける<br />
3. 基本連続変数を含むモデルに適用</p>
<div id="サンプルデータ" class="section level2">
<h2>サンプルデータ</h2>
<p>使うのはいつものIrisデータ:</p>
<pre class="r"><code>library(interactions)
summary(iris)</code></pre>
<pre><code>##   Sepal.Length    Sepal.Width     Petal.Length    Petal.Width   
##  Min.   :4.300   Min.   :2.000   Min.   :1.000   Min.   :0.100  
##  1st Qu.:5.100   1st Qu.:2.800   1st Qu.:1.600   1st Qu.:0.300  
##  Median :5.800   Median :3.000   Median :4.350   Median :1.300  
##  Mean   :5.843   Mean   :3.057   Mean   :3.758   Mean   :1.199  
##  3rd Qu.:6.400   3rd Qu.:3.300   3rd Qu.:5.100   3rd Qu.:1.800  
##  Max.   :7.900   Max.   :4.400   Max.   :6.900   Max.   :2.500  
##        Species  
##  setosa    :50  
##  versicolor:50  
##  virginica :50  
##                 
##                 
## </code></pre>
</div>
<div id="interact_plot" class="section level2">
<h2>interact_plot()</h2>
<p>回帰モデルを推定したObjectを用意したら、この関数にぶちこむだけでおわります:</p>
<pre class="r"><code>fit &lt;- lm(Petal.Length ~ Petal.Width*Species, data = iris)
interact_plot(fit, pred = Petal.Width, modx = Species)</code></pre>
<p><img src="/post/interaction_files/figure-html/interaction%20plot-1.png" width="672" /></p>
</div>
<div id="使いそうなやつ簡単に紹介" class="section level2">
<h2>使いそうなやつ簡単に紹介</h2>
<p>なんたら区間だの個別データの描画などは以下みたいな感じ:</p>
<pre class="r"><code># 変数選択: modx.values
# 個別データplot：plot.points
# 確信・信頼区間：interval (int.width = 0.8で80%区間)
interact_plot(fit, pred = Petal.Width, modx = Species,
              modx.values = c(&quot;versicolor&quot;, &quot;virginica&quot;), plot.points = T, interval = T)</code></pre>
<p><img src="/post/interaction_files/figure-html/interaction%20plot2-1.png" width="672" /></p>
<p>まぁ、基本これだけでいいでしょう。もっと知りたい人は<a href="https://interactions.jacob-long.com/articles/interactions.html">こちら</a>をどうぞ.</p>
</div>
